package com.vision.weatherapp.data.repository\n\nimport com.vision.weatherapp.data.api.WeatherApi\nimport com.vision.weatherapp.data.model.GeocodingResult\nimport com.vision.weatherapp.data.model.WeatherResponse\nimport com.vision.weatherapp.data.network.NetworkModule\n\n/**\n * 天气数据 Repository\n */\nclass WeatherRepository(\n    private val api: WeatherApi = NetworkModule.weatherApi\n) {\n    \n    /**\n     * 获取天气数据\n     */\n    suspend fun getWeather(latitude: Double, longitude: Double): Result<WeatherResponse> {\n        return try {\n            val response = api.getWeather(latitude, longitude)\n            Result.success(response)\n        } catch (e: Exception) {\n            Result.failure(e)\n        }\n    }\n    \n    /**\n     * 搜索城市\n     */\n    suspend fun searchCity(cityName: String): Result<List<GeocodingResult>> {\n        return try {\n            val response = api.searchCity(cityName)\n            Result.success(response.results ?: emptyList())\n        } catch (e: Exception) {\n            Result.failure(e)\n        }\n    }\n}\n