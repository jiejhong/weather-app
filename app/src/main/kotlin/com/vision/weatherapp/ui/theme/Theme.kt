package com.vision.weatherapp.ui.theme\n\nimport android.app.Activity\nimport android.os.Build\nimport androidx.compose.foundation.isSystemInDarkTheme\nimport androidx.compose.material3.MaterialTheme\nimport androidx.compose.material3.darkColorScheme\nimport androidx.compose.material3.dynamicDarkColorScheme\nimport androidx.compose.material3.dynamicLightColorScheme\nimport androidx.compose.material3.lightColorScheme\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.SideEffect\nimport androidx.compose.ui.graphics.Color\nimport androidx.compose.ui.graphics.toArgb\nimport androidx.compose.ui.platform.LocalContext\nimport androidx.compose.ui.platform.LocalView\nimport androidx.core.view.WindowCompat\n\n// 天气主题颜色\nprivate val SunnyColor = Color(0xFFFFB300)\nprivate val CloudyColor = Color(0xFF90A4AE)\nprivate val RainyColor = Color(0xFF5C6BC0)\n\nprivate val DarkColorScheme = darkColorScheme(\n    primary = SunnyColor,\n    secondary = CloudyColor,\n    tertiary = RainyColor,\n    background = Color(0xFF121212),\n    surface = Color(0xFF1E1E1E),\n    onPrimary = Color.White,\n    onSecondary = Color.White,\n    onTertiary = Color.White,\n    onBackground = Color.White,\n    onSurface = Color.White\n)\n\nprivate val LightColorScheme = lightColorScheme(\n    primary = SunnyColor,\n    secondary = CloudyColor,\n    tertiary = RainyColor,\n    background = Color(0xFFF5F5F5),\n    surface = Color.White,\n    onPrimary = Color.Black,\n    onSecondary = Color.Black,\n    onTertiary = Color.White,\n    onBackground = Color.Black,\n    onSurface = Color.Black\n)\n\n@Composable\nfun WeatherAppTheme(\n    darkTheme: Boolean = isSystemInDarkTheme(),\n    dynamicColor: Boolean = true,\n    content: @Composable () -> Unit\n) {\n    val colorScheme = when {\n        dynamicColor && Build.VERSION.SDK_INT >= Build.VERSION_CODES.S -> {\n            val context = LocalContext.current\n            if (darkTheme) dynamicDarkColorScheme(context) else dynamicLightColorScheme(context)\n        }\n        darkTheme -> DarkColorScheme\n        else -> LightColorScheme\n    }\n    \n    val view = LocalView.current\n    if (!view.isInEditMode) {\n        SideEffect {\n            val window = (view.context as Activity).window\n            window.statusBarColor = colorScheme.primary.toArgb()\n            WindowCompat.getInsetsController(window, view).isAppearanceLightStatusBars = !darkTheme\n        }\n    }\n\n    MaterialTheme(\n        colorScheme = colorScheme,\n        content = content\n    )\n}\n